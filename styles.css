const questions = [
  {
    question: "当你面对不公平的事情时，你会：",
    options: [
      { text: "立即站出来维护正义", score: 3 },
      { text: "冷静分析，寻找最佳解决方案", score: 2 },
      { text: "尽量避免冲突，保持和谐", score: 1 },
      { text: "寻求他人帮助", score: 1 },
    ],
  },
  {
    question: "你如何看待规则和法律？",
    options: [
      { text: "规则是社会的基石，必须严格遵守", score: 3 },
      { text: "规则很重要，但有时需要灵活处理", score: 2 },
      { text: "规则是为弱者制定的，强者可以超越规则", score: 1 },
      { text: "规则是人为制定的，可以被改变", score: 2 },
    ],
  },
  {
    question: "你在团队中通常扮演什么角色？",
    options: [
      { text: "领导者，负责决策", score: 3 },
      { text: "协调者，确保团队和谐", score: 2 },
      { text: "执行者，专注于完成任务", score: 1 },
      { text: "创新者，提出新想法", score: 2 },
    ],
  },
  {
    question: "你如何处理压力？",
    options: [
      { text: "冷静分析，制定计划", score: 3 },
      { text: "寻求他人帮助", score: 2 },
      { text: "暂时逃避，稍后处理", score: 1 },
      { text: "通过运动或娱乐放松", score: 1 },
    ],
  },
  {
    question: "你如何看待辩论？",
    options: [
      { text: "喜欢辩论，享受思维碰撞", score: 3 },
      { text: "辩论有意义，但不喜欢冲突", score: 2 },
      { text: "辩论浪费时间，不如直接行动", score: 1 },
      { text: "辩论是展示自己观点的好机会", score: 2 },
    ],
  },
  // 添加更多题目...
];

let currentQuestionIndex = 0;
let totalScore = 0;

const questionElement = document.getElementById("question");
const optionsElement = document.getElementById("options");
const nextButton = document.getElementById("next-btn");
const progressText = document.getElementById("progress-text");
const testPage = document.getElementById("test-page");
const resultPage = document.getElementById("result-page");
const resultText = document.getElementById("result-text");
const resultReason = document.getElementById("result-reason");
const resultSuggestion = document.getElementById("result-suggestion");

function showQuestion() {
  const question = questions[currentQuestionIndex];
  questionElement.textContent = question.question;
  optionsElement.innerHTML = "";
  question.options.forEach((option, index) => {
    const button = document.createElement("button");
    button.textContent = option.text;
    button.classList.add("option-btn");
    button.addEventListener("click", () => selectOption(option.score));
    optionsElement.appendChild(button);
  });
  progressText.textContent = `${currentQuestionIndex + 1}/${questions.length}`;
  nextButton.disabled = true;
}

function selectOption(score) {
  totalScore += score;
  nextButton.disabled = false;
}

function showResult() {
  testPage.classList.add("hidden");
  resultPage.classList.remove("hidden");

  if (totalScore >= 80) {
    resultText.textContent = "天生律师！";
    resultReason.textContent = "你在逻辑思维、辩论能力和正义感方面表现出色，具备成为律师的核心特质。";
    resultSuggestion.textContent = "建议：继续提升法律知识和沟通技巧，考虑报考法学院或实习机会。";
  } else if (totalScore >= 50) {
    resultText.textContent = "潜力律师！";
    resultReason.textContent = "你有成为律师的潜力，但在某些方面（如抗压能力或团队合作）需要进一步提升。";
    resultSuggestion.textContent = "建议：多参与辩论活动，学习法律基础知识，培养抗压能力。";
  } else {
    resultText.textContent = "不适合律师。";
    resultReason.textContent = "你的性格更适合创意类或服务类工作，律师职业可能无法充分发挥你的优势。";
    resultSuggestion.textContent = "建议：考虑从事艺术、设计、教育等领域，寻找更适合你的职业方向。";
  }
}

nextButton.addEventListener("click", () => {
  currentQuestionIndex++;
  if (currentQuestionIndex < questions.length) {
    showQuestion();
  } else {
    showResult();
  }
});

document.getElementById("retry-btn").addEventListener("click", () => {
  currentQuestionIndex = 0;
  totalScore = 0;
  testPage.classList.remove("hidden");
  resultPage.classList.add("hidden");
  showQuestion();
});

// 初始化
showQuestion();